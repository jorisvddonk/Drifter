<!DOCTYPE html>
<html>
	<head>
		<script src="./src/noctis_iv/niv_globals.js"></script>
		<script src="./src/noctis_iv/niv_starmap.js"></script>
		<script src="./src/noctis_iv/niv_drawingSpace.js"></script>
		<script src="./src/noctis_iv/niv_drawingSurface.js"></script>
		<script src="./src/noctis_iv/niv_engine.js"></script>
		<script src="./src/noctis_iv/niv_space.js"></script>
		<script src="./src/noctis_iv/niv_rand.js"></script>
		<script src="./src/noctis_iv/niv_textures.js"></script>
		<script src='https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.js'></script>
		<script type="text/javascript">
			var THREE_texture;
			$(function(){
				CURRENTSTAR = prepare_star(extract_target_info({x:-18928,y:-29680,z:-67336}));
				nearstar_r = CURRENTSTAR['r'];
				nearstar_g = CURRENTSTAR['g'];
				nearstar_b = CURRENTSTAR['b'];

				c_srand(parseInt(Math.random()*256));
				console.log("Seed is: " + Seed);

				generatePalette(5); renderPalette();


				create_craterized_world();
				//create_thickatmosphere_world();
				//create_volcanic_world();
				//create_thinatmosphere_world();

				prepare_space();
				create_thinatmosphere_space();
				//create_icy_space();
				//create_quartz_space();
				//create_craterized_space();
				//create_volcanic_space();
				//create_largeinconsistent_space();
				//create_thickatmosphere_space();

				finish_space();
				convTerrain();
				renderPlanetTexture(p_background,360,180,2);
			});
		</script>
		<title>Noctis IV JS</title>
	</head>
    <body>
    	<div id="threeJScontent"></div>
    	<div id="contentPlanetTexture"></div>
    	<div id="contentPalette"></div>
        <div id="threeJScontentPlanet"></div>
        
        <h1>Noctis IV JS Terrain Test</h1>
        <span>Based upon Noctis IV CE r11.6a, with some additional stuff by neuzd, selb and SL (<a href="http://www.neuzd.org/func/niv_engine_php.txt">GOESXNET / LCG-RNG stuff</a>).</span>
        <div>Mouse to look around. Left/right mouse buttons to move forwards/backwards</div>
        <div>Below, you can see the heightmap, colormap (not used) and texture buffers</div>
        <div><span style="font-weight:bolder">Refresh</span> to generate a new world. Currently generating creased/no atmosphere worlds.</div>
        <div id="content"></div>
    </body>
</html>